<div class="dashboard-container">
  <h1 class="page-title">لوحة التحكم</h1>

  <!-- بطاقة الترحيب -->
  <div class="welcome-card">
    <mat-card>
      <mat-card-content>
        <h2>مرحباً، {{ authService.currentUserFullName() }}</h2>
        <p>{{ formatDateTime(currentDate()) }}</p>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="dashboard-grid">

    <!-- بدء واستكمال يوم جديد -->
    <mat-card class="dashboard-card" *hasPermission="operationsPermissions; requireAll: false">
      <mat-card-header>
        <mat-icon class="card-icon start-icon">play_circle</mat-icon>
        <mat-card-title>بدء واستكمال رحلات التوزيع</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>ابدأ رحلات التوزيع</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button color="primary" routerLink="/operations/start-day">
          بدء و استكمال رحلات التوزيع
        </button>
      </mat-card-actions>
    </mat-card>

    <!-- المزارع -->
    <mat-card class="dashboard-card" *hasPermission="PERMISSIONS.FARMS.VIEW_FARMS">
      <mat-card-header>
        <mat-icon class="card-icon farm-icon">agriculture</mat-icon>
        <mat-card-title>المزارع</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>إدارة بيانات المزارع والموردين</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button routerLink="/master-data/farms">
          عرض المزارع
        </button>
      </mat-card-actions>
    </mat-card>

    <!-- محلات الفراخ -->
    <mat-card class="dashboard-card" *hasPermission="PERMISSIONS.BUYERS.VIEW_BUYERS">
      <mat-card-header>
        <mat-icon class="card-icon buyer-icon">shopping_cart</mat-icon>
        <mat-card-title>محل فراخ</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>إدارة بيانات العملاء ومحلات الفراخ</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button routerLink="/master-data/buyers">
          عرض محلات الفراخ
        </button>
      </mat-card-actions>
    </mat-card>

    <!-- التقارير -->
    <mat-card class="dashboard-card" *hasPermission="[
        PERMISSIONS.REPORTS.VIEW_DAILY_REPORT,
        PERMISSIONS.REPORTS.VIEW_PERIOD_REPORT,
        PERMISSIONS.REPORTS.VIEW_PROFIT_REPORT,
        PERMISSIONS.REPORTS.VIEW_DEBT_REPORT
      ]; requireAll: false">
      <mat-card-header>
        <mat-icon class="card-icon report-icon">assessment</mat-icon>
        <mat-card-title>التقارير</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>عرض التقارير المالية والإحصائية</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button routerLink="/reports/daily">
          التقارير
        </button>
      </mat-card-actions>
    </mat-card>

    <!-- الشركاء -->
    <mat-card class="dashboard-card" *hasPermission="PERMISSIONS.PARTNERS.VIEW_PARTNERS">
      <mat-card-header>
        <mat-icon class="card-icon partner-icon">people</mat-icon>
        <mat-card-title>الشركاء</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>إدارة الشركاء وحصصهم</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button routerLink="/master-data/partners">
          عرض الشركاء
        </button>
      </mat-card-actions>
    </mat-card>

    <!-- المركبات -->
    <mat-card class="dashboard-card" *hasPermission="PERMISSIONS.VEHICLES.VIEW_VEHICLES">
      <mat-card-header>
        <mat-icon class="card-icon vehicle-icon">local_shipping</mat-icon>
        <mat-card-title>المركبات</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>إدارة أسطول المركبات</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button routerLink="/master-data/vehicles">
          عرض المركبات
        </button>
      </mat-card-actions>
    </mat-card>

  </div>
</div>
