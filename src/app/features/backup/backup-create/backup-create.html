<div class="backup-create-container">
  <div class="create-section">
    <h3>ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุฌุฏูุฏุฉ</h3>
    <p class="description">
      ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุฏููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงููุงูู. ุณูุชู ุฅูุดุงุก ููู ZIP ูุญุชูู ุนูู ุฌููุน ุงูุจูุงูุงุช.
    </p>

    <button
      class="btn btn-create"
      (click)="createBackup()"
      [disabled]="creating()"
      aria-label="ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุฌุฏูุฏุฉ">
      @if (creating()) {
        <app-loading-spinner [inline]="true"></app-loading-spinner>
        <span>ุฌุงุฑู ุฅูุดุงุก ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ...</span>
      } @else {
        <span>๐พ ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุฌุฏูุฏุฉ</span>
      }
    </button>
  </div>

  <!-- ุฑุณุงูุฉ ุฎุทุฃ -->
  @if (error()) {
    <app-error-message
      [message]="error()"
      (dismiss)="dismissError()">
    </app-error-message>
  }

  <!-- ุฑุณุงูุฉ ูุฌุงุญ -->
  @if (successMessage()) {
    <div class="success-message">
      <div class="success-content">
        <span class="success-icon">โ</span>
        <div class="success-text">
          <strong>{{ successMessage() }}</strong>
          @if (lastBackupDetails(); as details) {
            <div class="backup-details">
              <p><strong>ุงุณู ุงูููู:</strong> {{ details.filename }}</p>
              <p><strong>ุงูุญุฌู:</strong> {{ details.fileSizeMB }}</p>
              <p><strong>ุนุฏุฏ ุงูุฌุฏุงูู ุงูุชู ุชู ูุณุฎูุง:</strong> {{ details.tableCount }}</p>
              <p><strong>ุงููุฏุฉ:</strong> {{ details.duration }}</p>
            </div>
          }
        </div>
      </div>
      <button
        class="dismiss-btn"
        (click)="dismissSuccess()"
        aria-label="ุฅุบูุงู ุฑุณุงูุฉ ุงููุฌุงุญ">
        โ
      </button>
    </div>
  }
</div>
