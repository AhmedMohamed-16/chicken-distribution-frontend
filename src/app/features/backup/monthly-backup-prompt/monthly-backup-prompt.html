@if (show()) {
  <div class="modal-overlay" (click)="onDismiss()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3>๐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุดูุฑูุฉ ูุชุงุญุฉ</h3>
        <button
          class="close-btn"
          (click)="onDismiss()"
          [disabled]="downloading()"
          aria-label="ุฅุบูุงู ุงููุงูุฐุฉ">
          โ
        </button>
      </div>

      <div class="modal-body">
        <p class="message">
          ุชู ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุงูููู. ูู ุชุฑุบุจ ูู ุชุญููููุง ููุงุญุชูุงุธ ุจูุง ุจุฃูุงูุ
        </p>

        @if (backup(); as b) {
          <div class="backup-info">
            <div class="info-row">
              <span class="label">ุงุณู ุงูููู:</span>
              <span class="value">{{ b.filename }}</span>
            </div>
            <div class="info-row">
              <span class="label">ุชุงุฑูุฎ ุงูุฅูุดุงุก:</span>
              <span class="value">{{ formattedDate() }}</span>
            </div>
            <div class="info-row">
              <span class="label">ุงูุญุฌู:</span>
              <span class="value">{{ b.fileSizeMB }}</span>
            </div>
          </div>
        }

        <p class="note">
          ๐ก ุชุธูุฑ ูุฐู ุงูุฑุณุงูุฉ ูุฑุฉ ูุงุญุฏุฉ ุดูุฑููุง ููุณุงุนุฏุชู ุนูู ุงูุงุญุชูุงุธ ุจูุณุฎ ุงุญุชูุงุทูุฉ ูุญููุฉ.
        </p>
      </div>

      <div class="modal-footer">
        <button
          class="btn btn-secondary"
          (click)="onDismiss()"
          [disabled]="downloading()">
          ููุณ ุงูุขู
        </button>
        <button
          class="btn btn-primary"
          (click)="onConfirm()"
          [disabled]="downloading()">
          @if (downloading()) {
            <app-loading-spinner [inline]="true"></app-loading-spinner>
            <span>ุฌุงุฑู ุงูุชุญููู...</span>
          } @else {
            <span>๐ฅ ุชุญููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ</span>
          }
        </button>
      </div>
    </div>
  </div>
}
